<!DOCTYPE html>
<html lang="en">
<!--    <head>-->
<!--        <meta charset="utf-8" />-->
<!--        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />-->
<!--        <meta name="description" content="" />-->
<!--        <meta name="author" content="" />-->
<!--        <title>Yi-Hong's Blog</title>-->
<!--        <link rel="icon" type="image/x-icon" href="https://yih-chen.github.io/images/yh.ico" />-->
<!--        &lt;!&ndash; Font Awesome icons (free version)&ndash;&gt;-->
<!--        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>-->
<!--        &lt;!&ndash; Google fonts&ndash;&gt;-->
<!--        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />-->
<!--        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />-->
<!--        &lt;!&ndash; Core theme CSS (includes Bootstrap)&ndash;&gt;-->
<!--        <link href="https://yih-chen.github.io/css/styles.css" rel="stylesheet" />-->
<!--    </head>-->
    <body id="page-top">

    <h2>ä½ çš„è£ç½® Token æ˜¯ï¼š</h2>
    <pre id="token">è¼‰å…¥ä¸­...</pre>
<!--        &lt;!&ndash; Navigation&ndash;&gt;-->
<!--        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">-->
<!--            <a class="navbar-brand js-scroll-trigger" href="#page-top">-->
<!--                <span class="d-block d-lg-none">Yi-Hong Chen</span>-->
<!--                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="https://yih-chen.github.io/images/home.jpg" alt="..." /></span>-->
<!--            </a>-->
<!--            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>-->
<!--            <div class="collapse navbar-collapse" id="navbarResponsive">-->
<!--                <ul class="navbar-nav">-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">Experience</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#education">Education</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#skills">Skills</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#interests">Interests</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#awards">Awards</a></li>&ndash;&gt;-->
<!--                </ul>-->
<!--            </div>-->
<!--        </nav>-->

<!--        <div class="nav-bar">-->
<!--            <div class="container">-->
<!--                <div class="row">-->
<!--                    <div class="col-9 col-lg-3">-->
<!--                        <div class="site-branding">-->
<!--                            <h1 class="site-title"><a href="https://yih-chen.github.io" rel="home"></a></h1>-->
<!--                        </div>&lt;!&ndash; .site-branding &ndash;&gt;-->
<!--                    </div>&lt;!&ndash; .col &ndash;&gt;-->

<!--                    <div class="col-3 col-lg-9 flex justify-content-end align-content-center">-->
<!--                        <nav class="site-navigation flex justify-content-end align-items-center">-->
<!--                            <ul class="flex flex-column flex-lg-row justify-content-lg-end align-content-center">-->
<!--                                <li class="current-menu-item"><a href="https://yih-chen.github.io/index.html">é¦–é </a></li>-->
<!--                                <li><a href="https://yih-chen.github.io/about.html">é—œæ–¼æˆ‘</a></li>-->
<!--                                <li><a href="https://yih-chen.github.io/learning/learningindex.html">å­¸ç¿’ç´€éŒ„</a></li>-->
<!--                                <li><a href="https://yih-chen.github.io/life/index.html">ç”Ÿæ´»ç´€éŒ„</a></li>-->
<!--                            </ul>-->

<!--                            <div class="hamburger-menu d-lg-none">-->
<!--                                <span></span>-->
<!--                                <span></span>-->
<!--                                <span></span>-->
<!--                                <span></span>-->
<!--                            </div>&lt;!&ndash; .hamburger-menu &ndash;&gt;-->

<!--                            <div class="header-bar-cart">-->
<!--                                <a href="#" class="flex justify-content-center align-items-center"><span aria-hidden="true" class="icon_bag_alt"></span></a>-->
<!--                            </div>&lt;!&ndash; .header-bar-search &ndash;&gt;-->
<!--                        </nav>&lt;!&ndash; .site-navigation &ndash;&gt;-->
<!--                    </div>&lt;!&ndash; .col &ndash;&gt;-->
<!--                </div>&lt;!&ndash; .row &ndash;&gt;-->
<!--            </div>&lt;!&ndash; .container &ndash;&gt;-->
<!--        </div>-->

<!--        <div>-->
<!--            <div class="container-fluid p-0 pr-150 pr-320" style="width:55.589%;">-->

<!--                <p>-->

<!--                </p>-->
<!--                <h5>-->
<!--                    ç€è¦½å™¨,è¨˜éŒ„äº†ä½¿ç”¨è€…çš„ç€è¦½ç´€éŒ„,<br>-->
<!--                </h5>-->
<!--                <h5>-->
<!--                    ç›¸ç‰‡,è¨˜éŒ„äº†æˆ‘å€‘çš„ç”Ÿæ´»é»æ»´,<br>-->
<!--                </h5>-->
<!--                <h5>-->
<!--                    æ­·å²,è¨˜éŒ„äº†äººé¡æ–‡æ˜çš„è®Šé©.-->
<!--                </h5>-->

<!--                <p class="lead mb-5">-->

<!--                </p>-->

<!--                <p class="lead">-->
<!--                    åœ¨æˆ‘åŠéš»è…³è¸å…¥ç¢©å£«çš„éšæ®µï¼Œæˆ‘ç¸½æƒ³è‘—è‡ªå·±çš„ç ”ç©¶ã€æå‡ºçš„è«–æ–‡è¦å°è©²é ˜åŸŸæœ‰å·¨å¤§çš„è²¢ç»æˆ–æ˜¯å½±éŸ¿åŠ›ã€‚<br>-->
<!--                    <b>èƒ½å¤ è¢«åˆ¥äººè¨˜ä½æˆ‘çš„è²¢ç»</b>-->
<!--                    ï¼Œé€™æ˜¯æˆ‘å°è‡ªå·±çš„æœŸæœ›å’ŒæŠ±è² ã€‚<br>-->
<!--                    ç„¶è€Œï¼Œåœ¨å¯¦éš›æŠ•å…¥ç ”ç©¶å¾Œæˆ‘æ‰ç™¼ç¾ï¼Œç¾å¯¦å’Œç†æƒ³çš„å·®åˆ¥å¦‚æ­¤å·¨å¤§ã€‚<br>-->
<!--                    ç¸½æ˜¯å°‡ç¾å¯¦æ­¸æ–¼ç†æƒ³åŒ–ï¼Œæœ€å¾Œçµæœä¸å¦‚é æœŸæ™‚ï¼Œå°±æœƒæ„Ÿåˆ°ç„¡æ¯”æŒ«æŠ˜å’Œå¤§å¤§çš„ç„¡åŠ›æ„Ÿ...<br>-->
<!--                </p>-->
<!--                <p class="lead mb-5">-->
<!--                    <b>-->
<!--                        æˆ‘å€‘çš„ç›®æ¨™ä¸æ˜¯è¦æ‹šè«¾è²çˆ¾ç,<br>-->
<!--                        ç¢©å£«åªæœ‰å…©å¹´çš„æ™‚é–“,ä½ ä¹Ÿå¾ˆé›£æ‹šéé‚£äº›åŠè¼©å­éƒ½åœ¨é€™é ˜åŸŸè£¡é‘½ç ”çš„äºº,<br>-->
<!--                        å› ç‚ºä½ æˆ‘éƒ½ä¸æ˜¯å¤©æ‰.<br>-->
<!--                    </b>-->
<!--                    é€™æ˜¯æˆ‘çš„æŒ‡å°æ•™æˆå‘Šè¨´æˆ‘çš„ä¸€å¸­è©±ï¼Œä¹ŸçŒ¶å¦‚ç•¶é ­æ£’å–èˆ¬ï¼Œè®“æˆ‘æ¸…é†’å’Œé‡æ–°ç¢ºç«‹æˆ‘çš„ç›®æ¨™ã€‚-->
<!--                </p>-->
<!--                <p class="lead mb-5">-->
<!--                    åœ¨é€™å¹¾åå„„äººå£çš„ä¸–ç•Œï¼Œä½ æˆ‘éƒ½å¾ˆæ¸ºå°ï¼Œæ›¾ç¶“åšéçš„äº‹ä¹Ÿå¯èƒ½é®®å°‘æœƒè¢«äººè¨˜ä½ã€‚<br>-->

<!--                    ä½†ï¼Œ-->
<!--                    <b>-->
<!--                        æˆ‘å€‘å¯ä»¥ç‚ºäº†è‡ªå·±è€Œè¨˜éŒ„-->
<!--                    </b>-->
<!--                    ã€‚<br>-->

<!--                </p>-->

<!--                <p class="lead mb-5">-->
<!--                    <b>-->
<!--                        Blogçš„æƒ³æ³•æ²¹ç„¶è€Œç”Ÿ...-->
<!--                    </b>-->
<!--                </p>-->

<!--                <p class="lead mb-5">-->

<!--                    ç¶²ç«™è£¡ï¼Œ-->
<!--                    <b>-->
<!--                        é—œæ–¼æˆ‘-->
<!--                    </b>-->
<!--                    çš„éƒ¨åˆ†ï¼Œè¨˜éŒ„äº†å¾å¤§å­¸åˆ°ç›®å‰æ­¥å…¥ç¤¾æœƒçš„å¿ƒè·¯æ­·ç¨‹...ç­‰<br>-->

<!--                    <b>-->
<!--                        å­¸ç¿’ç´€éŒ„-->
<!--                    </b>-->
<!--                    ï¼Œä¸»è¦æ˜¯ç­†è¨˜å¯¦éš›é–‹ç™¼çš„ç¶“é©—æˆ–æ˜¯å€‹äººçš„å·¥ä½œç­†è¨˜ï¼Œç•¶ä½œè‡ªå·±çš„å°çŸ¥è­˜åº«<br>-->

<!--                    <b>-->
<!--                        ç”Ÿæ´»ç´€éŒ„-->
<!--                    </b>-->
<!--                    ï¼Œç”¨ä»¥ç­†è¨˜æˆ‘çš„èˆˆè¶£æ„›å¥½ï¼Œä¹Ÿè®“ä¸€äº›ä¸èªè­˜ç‰ å€‘çš„äººæœ‰æ©Ÿæœƒäº†è§£ç‰ å€‘ï¼Œå¸Œæœ›ä½ æœƒæ„Ÿå—åˆ°å¤§è‡ªç„¶çš„ç¥å¥‡é€ åŒ–ã€‚-->

<!--                </p>-->

<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Page Content&ndash;&gt;-->

<!--        &lt;!&ndash; Bootstrap core JS&ndash;&gt;-->
<!--        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>-->
<!--        &lt;!&ndash; Core theme JS&ndash;&gt;-->
<!--        <script src="js/scripts.js"></script>-->


        <script type="module">
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
            import { getMessaging, getToken, onMessage } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-messaging.js";

            const firebaseConfig = {
                apiKey: "AIzaSyBiPyvQwqwRKtJNjQ_LE5zXbo8PVzKTaVw",
                authDomain: "joechentestfcm0421.firebaseapp.com",
                projectId: "joechentestfcm0421",
                messagingSenderId: "26421742760",
                appId: "1:26421742760:web:5162945a0532cc1433869d",
            };

            // åˆå§‹åŒ– Firebase
            const app = initializeApp(firebaseConfig);
            const messaging = getMessaging(app);

            // å•Ÿç”¨é€šçŸ¥æ¬Šé™ä¸¦å–å¾— token
            const vapidKey = "BIqTEucc1S-3RNuVaCuzoqHT8-24tbZVLNLFSM1tbWwfLJfujx0KFMfSQM-75EluZCy3hGegObUGizuHPdenB6g"; // å¾ Firebase æ§åˆ¶å° > é›²ç«¯è¨Šæ¯ > ç¶²é æ¨æ’­é‡‘é‘°å–å¾—
            getToken(messaging, { vapidKey })
                .then((currentToken) => {
                    if (currentToken) {
                        console.log("ğŸ‰ è£ç½® Token:", currentToken);
                        document.getElementById("token").innerText = currentToken;
                        //alert("ä½ çš„è£ç½® Token æ˜¯ï¼š\n" + currentToken);
                        // ä½ å¯ä»¥åœ¨é€™è£¡å‘¼å«å¾Œç«¯ APIï¼ŒæŠŠ token å‚³å›å»å„²å­˜
                    } else {
                        console.warn("âš ï¸ å°šæœªæˆæ¬Šé€šçŸ¥æ¬Šé™ï¼Œç„¡æ³•å–å¾— Token");
                         // ğŸ‘‰ é¡¯ç¤ºåœ¨ alert è£¡
                    }
                })
                .catch((err) => {
                    console.error("âŒ å–å¾— Token ç™¼ç”ŸéŒ¯èª¤:", err);
                });

            // é è¦½æ¨æ’­é€šçŸ¥ï¼ˆç•¶ç€è¦½å™¨é–‹å•Ÿæ™‚ï¼‰
            onMessage(messaging, (payload) => {
                console.log("ğŸ“¥ å‰æ™¯é€šçŸ¥æ”¶åˆ°:", payload);
                alert(`å‰æ™¯é€šçŸ¥ï¼š${payload.notification.title} - ${payload.notification.body}`);
            });

            // è¨»å†ŠèƒŒæ™¯é€šçŸ¥ç”¨çš„ Service Worker
            if ("serviceWorker" in navigator) {
                navigator.serviceWorker.register("firebase-messaging-sw.js")
                    .then((registration) => {
                        console.log("âœ… Service Worker è¨»å†ŠæˆåŠŸ", registration);
                    }).catch((err) => {
                    console.error("âŒ Service Worker è¨»å†Šå¤±æ•—:", err);
                });
            }
        </script>

    <button onclick="copyToken()">è¤‡è£½ Token</button>
    <script>
        function copyToken() {
            const tokenText = document.getElementById("token").innerText;
            navigator.clipboard.writeText(tokenText)
                .then(() => alert("Token å·²è¤‡è£½"))
                .catch(() => alert("è¤‡è£½å¤±æ•—"));
        }
    </script>


    </body>
</html>
